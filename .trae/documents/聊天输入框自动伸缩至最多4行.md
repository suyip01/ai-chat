## 目标
让聊天页输入框在输入多行文字时自动增高，最多显示 4 行；超过 4 行时保持内部滚动。保留现有样式与逻辑不变。

## 实现思路
- 基于 `textarea.scrollHeight` 动态设置 `style.height`，并在 4 行高度处做上限。
- 使用 `getComputedStyle` 获取行高 `line-height` 与（如有）`max-height`，计算最大高度；若无法获取，回退为约 4 行高度（例如 88-96px）。
- 不修改现有 Tailwind 类（例如 `max-h-24 overflow-y-auto`），仅在运行时更新内联 `height`。

## 代码改动点（仅 ChatDetail.tsx）
1. 新增 `resizeTextarea()` 函数：
- 逻辑：
  - `ta.style.height = 'auto'` → 读取 `ta.scrollHeight`
  - 计算 `lineHeight = parseFloat(getComputedStyle(ta).lineHeight) || 22`
  - `maxHeight = parseFloat(getComputedStyle(ta).maxHeight) || lineHeight * 4`
  - `ta.style.height = Math.min(scrollHeight, maxHeight)`，同时不低于最小高度（22px）

2. 在这些时机调用 `resizeTextarea()`：
- 组件挂载后与每次输入内容更新后（`onChange`），使用 `requestAnimationFrame` 或 `setTimeout(0)` 保证 DOM 已更新再测量
- `onFocus` 时（与现有 `scrollToBottom` 并行）
- 浏览器 `resize` 或 `visualViewport` 变化时（复用现有监听中调用）

3. 保留现有交互
- 不改动 `rows={1}`、`className`、`max-h-24 overflow-y-auto` 等样式
- 保留 `onKeyDown`、`onBlur`、`sendTyping` 等逻辑

## 验证
- 输入 1→4 行，观察输入框高度随行数增长
- 输入大于 4 行，输入框高度不再增长，内部出现滚动条
- 切换模式、键盘弹出、视口变化时，输入框高度保持合理且不影响页面滚动

## 影响范围
- 仅 `src/user/pages/ChatDetail.tsx`；无样式、布局、网络逻辑修改。