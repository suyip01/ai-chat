{"version":3,"file":"StoryReader-CRus-JMC.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../user/components/StoryReader.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"arrow-right\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ArrowLeft, Check, ArrowRight, Info } from 'lucide-react';\nimport { Story, StoryRole } from '../types';\n\ninterface StoryReaderProps {\n  story: Story;\n  onBack: () => void;\n  onStartRoleplay: (role: StoryRole) => void;\n  connectedRoleNames?: string[];\n  validRoleNames?: string[];\n}\n\nexport const StoryReader: React.FC<StoryReaderProps> = ({ story, onBack, onStartRoleplay, connectedRoleNames = [], validRoleNames = [] }) => {\n  const contentRef = useRef<HTMLDivElement>(null);\n  const trackRef = useRef<HTMLDivElement>(null);\n  \n  const [thumbHeight, setThumbHeight] = useState(20);\n  const [thumbTop, setThumbTop] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n  \n  // Role Selection State\n  const [showRoleModal, setShowRoleModal] = useState(false);\n  const [selectedRoleName, setSelectedRoleName] = useState<string | null>(null);\n  const [showAlreadyConnectedModal, setShowAlreadyConnectedModal] = useState(false);\n  \n  // Drag state refs to avoid closure staleness without re-binding listeners constantly\n  const dragStartY = useRef(0);\n  const dragStartThumbTop = useRef(0);\n\n  const updateScrollbar = useCallback(() => {\n      if (!contentRef.current || !trackRef.current) return;\n      const { scrollTop, scrollHeight, clientHeight } = contentRef.current;\n      const trackHeight = trackRef.current.clientHeight;\n\n      // If content fits, no scrollbar needed really, but we can just hide it or show full\n      if (scrollHeight <= clientHeight) {\n          setThumbHeight(trackHeight);\n          setThumbTop(0);\n          return;\n      }\n\n      // Calculate thumb height\n      const visibleRatio = clientHeight / scrollHeight;\n      // Proportional size, min height 30px\n      const calculatedThumbHeight = Math.max(visibleRatio * trackHeight, 30); \n      setThumbHeight(calculatedThumbHeight);\n\n      // Calculate thumb position\n      const maxScrollTop = scrollHeight - clientHeight;\n      const maxThumbTop = trackHeight - calculatedThumbHeight;\n      \n      const currentScrollRatio = scrollTop / maxScrollTop;\n      setThumbTop(currentScrollRatio * maxThumbTop);\n  }, []);\n\n  useEffect(() => {\n      const observer = new ResizeObserver(() => {\n          updateScrollbar();\n      });\n      if (contentRef.current) observer.observe(contentRef.current);\n      if (trackRef.current) observer.observe(trackRef.current);\n      \n      // Delay initial check slightly to ensure layout is stable\n      const timer = setTimeout(updateScrollbar, 100);\n\n      return () => {\n          observer.disconnect();\n          clearTimeout(timer);\n      };\n  }, [updateScrollbar]);\n\n  // Handle Dragging\n  const handleDragStart = (e: React.MouseEvent | React.TouchEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsDragging(true);\n      \n      const clientY = 'touches' in e ? e.touches[0].clientX : (e as React.MouseEvent).clientY;\n      dragStartY.current = clientY;\n      dragStartThumbTop.current = thumbTop;\n  };\n\n  useEffect(() => {\n      const handleDragMove = (e: MouseEvent | TouchEvent) => {\n          if (!isDragging || !contentRef.current || !trackRef.current) return;\n          e.preventDefault(); // Prevent default browser scrolling/selection\n\n          const clientY = 'touches' in e ? (e as TouchEvent).touches[0].clientY : (e as MouseEvent).clientY;\n          const deltaY = clientY - dragStartY.current;\n          \n          const trackHeight = trackRef.current.clientHeight;\n          const maxThumbTop = trackHeight - thumbHeight;\n          const maxScrollTop = contentRef.current.scrollHeight - contentRef.current.clientHeight;\n\n          if (maxThumbTop <= 0) return;\n\n          // New thumb Top\n          let newThumbTop = dragStartThumbTop.current + deltaY;\n          // Clamp\n          newThumbTop = Math.max(0, Math.min(newThumbTop, maxThumbTop));\n\n          // Calculate corresponding ScrollTop\n          const ratio = newThumbTop / maxThumbTop;\n          contentRef.current.scrollTop = ratio * maxScrollTop;\n      };\n\n      const handleDragEnd = () => {\n          setIsDragging(false);\n      };\n\n      if (isDragging) {\n          document.addEventListener('mousemove', handleDragMove);\n          document.addEventListener('mouseup', handleDragEnd);\n          document.addEventListener('touchmove', handleDragMove, { passive: false });\n          document.addEventListener('touchend', handleDragEnd);\n      }\n\n      return () => {\n          document.removeEventListener('mousemove', handleDragMove);\n          document.removeEventListener('mouseup', handleDragEnd);\n          document.removeEventListener('touchmove', handleDragMove);\n          document.removeEventListener('touchend', handleDragEnd);\n      };\n  }, [isDragging, thumbHeight]);\n\n  const handleConfirmRole = () => {\n      if (selectedRoleName) {\n          if (connectedRoleNames.includes(selectedRoleName)) {\n              setShowAlreadyConnectedModal(true);\n              return;\n          }\n          const role = (story.availableRoles || []).find(r => r.name === selectedRoleName);\n          if (role) {\n              onStartRoleplay(role);\n          }\n      }\n  };\n\n  const paragraphs = story.content.split('\\n').filter(p => p.trim() !== '');\n  const displayRoles = (story.availableRoles || []).filter(role => {\n    return validRoleNames && validRoleNames.length ? validRoleNames.includes(role.name) : true;\n  });\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-[60] flex flex-col h-full w-full animate-in slide-in-from-right duration-300\">\n      \n      {/* Container with max width */}\n      <div className=\"mx-auto w-full max-w-md h-full flex flex-col relative bg-white rounded-none md:rounded-3xl md:overflow-hidden shadow-2xl\">\n        <button onClick={onBack} className=\"absolute top-4 left-4 z-[100] w-10 h-10 bg-black/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-black/30 transition-all\">\n          <ArrowLeft size={24} />\n        </button>\n        {/* Scrollable Content */}\n        <div \n        className=\"flex-1 overflow-y-auto no-scrollbar bg-[#FAFAFA]\"\n        onScroll={updateScrollbar}\n        ref={contentRef}\n        >\n        {/* Cover Image */}\n        <div className=\"w-full h-64 relative\">\n             <img src={story.image || '/uploads/covers/default_storyimg.jpg'} alt={story.title} className=\"w-full h-full object-cover\" />\n             <div className=\"absolute inset-0 bg-gradient-to-t from-[#FAFAFA] to-transparent\"></div>\n        </div>\n\n        <div className=\"px-6 -mt-12 relative z-10 pb-20\">\n            \n            {/* Title Block */}\n            <div className=\"mb-8\">\n                {/* Title */}\n                <h1 className=\"text-2xl font-bold text-slate-900 mb-4 leading-tight\">\n                    {story.title}\n                </h1>\n\n                {/* Author Info */}\n                <div className=\"flex items-center mt-2\">\n                    <div className=\"w-9 h-9 rounded-full bg-slate-200 overflow-hidden border border-white shadow-sm mr-3\">\n                         <img src={story.user_avatar || `https://api.dicebear.com/7.x/miniavs/svg?seed=${story.author}`} alt=\"author\" className=\"w-full h-full object-cover\" />\n                    </div>\n                    <span className=\"text-sm font-bold text-slate-700\">{story.author}</span>\n                </div>\n            </div>\n\n            {/* Content Body */}\n            <article className=\"prose prose-slate max-w-none\">\n                {paragraphs.map((p, index) => (\n                    <p \n                        key={index} \n                        className=\"mb-6 text-justify tracking-wide text-[16px]\"\n                        style={{\n                            lineHeight: 1.8,\n                            color: '#334155'\n                        }}\n                    >\n                        {p}\n                    </p>\n                ))}\n            </article>\n\n            {/* End of Text Marker */}\n            <div className=\"flex items-center justify-center my-10\">\n                <span className=\"text-slate-400/80 text-sm font-medium tracking-widest\">—— 全文完 ——</span>\n            </div>\n\n            {/* Tags at the bottom */}\n            <div className=\"mb-12 flex flex-wrap gap-4 pl-1\">\n                {story.tags.map(tag => (\n                    <span \n                        key={tag} \n                        className=\"text-sm text-slate-400\"\n                    >\n                        #{tag}\n                    </span>\n                ))}\n            </div>\n\n            {/* Chat with Role Button */}\n            {(displayRoles.length > 0) && (\n              <div className=\"flex justify-center mb-8\">\n                  <button\n                      onClick={() => setShowRoleModal(true)}\n                      className=\"flex items-center gap-2 px-6 py-3 bg-purple-100 rounded-full shadow-lg shadow-purple-200/50 hover:bg-purple-200 transition-all active:scale-95 cursor-pointer\"\n                  >\n                      <span \n                          className=\"text-lg font-bold text-purple-600 tracking-widest\"\n                      >\n                          与角色开聊\n                      </span>\n                      <ArrowRight size={18} className=\"text-purple-600\" />\n                  </button>\n              </div>\n            )}\n\n        </div>\n        </div>\n\n      {/* Custom Scrollbar - Right Side Slider */}\n      <div \n         ref={trackRef}\n         className=\"absolute right-1 top-4 bottom-4 w-1.5 z-[70]\"\n      >\n          {/* Thumb */}\n          <div \n             className=\"w-full rounded-full cursor-pointer transition-colors duration-200 bg-slate-400/40 hover:bg-slate-400/60\"\n             style={{ \n                 height: `${thumbHeight}px`, \n                 transform: `translateY(${thumbTop}px)`,\n                 touchAction: 'none'\n             }}\n             onMouseDown={handleDragStart}\n             onTouchStart={handleDragStart}\n          />\n      </div>\n      </div>\n\n      {/* Role Selection Modal */}\n      {showRoleModal && (\n          <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300\">\n              <div className=\"bg-white w-[85%] max-w-sm rounded-[32px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300\">\n                  <div className=\"p-6 pb-2\">\n                       <h3 className=\"text-xl font-bold text-slate-900 text-center mb-6 font-kosugi\">请选择聊天角色</h3>\n                       \n                       <div className=\"space-y-3 max-h-[50vh] overflow-y-auto no-scrollbar py-2 px-1\">\n                           {displayRoles.length > 0 ? (\n                               displayRoles.map(role => {\n                                   const isSelected = selectedRoleName === role.name;\n                                   const isConnected = connectedRoleNames.includes(role.name);\n                                   return (\n                                     <div \n                                        key={role.name}\n                                        onClick={() => setSelectedRoleName(role.name)}\n                                        className={`\n                                            relative p-4 rounded-2xl flex items-center justify-between cursor-pointer transition-all border-2\n                                            ${isSelected \n                                                ? 'bg-purple-50 border-purple-500 shadow-md scale-[1.02]' \n                                                : 'bg-slate-50 border-transparent hover:bg-slate-100'\n                                            }\n                                        `}\n                                     >\n                                         <div className=\"flex flex-col\">\n                                           <span className={`font-bold text-base ${isSelected ? 'text-purple-700' : 'text-slate-800'}`}>\n                                               {role.name}\n                                           </span>\n                                           {isConnected && (\n                                             <span className=\"text-[10px] text-green-500 font-bold mt-1\">● 已建联</span>\n                                           )}\n                                         </div>\n                                         \n                                         {isSelected && (\n                                             <div className=\"w-5 h-5 rounded-full bg-purple-500 flex items-center justify-center text-white shadow-sm\">\n                                                 <Check size={12} strokeWidth={3} />\n                                             </div>\n                                         )}\n                                     </div>\n                                   );\n                               })\n                           ) : (\n                               <p className=\"text-center text-slate-400 py-4 text-sm\">暂无识别到的角色</p>\n                           )}\n                       </div>\n                  </div>\n                  \n                  <div className=\"p-6 pt-2 bg-gradient-to-t from-white via-white to-transparent\">\n                       <div className=\"flex gap-3\">\n                           <button \n                               onClick={() => setShowRoleModal(false)}\n                               className=\"flex-1 py-3.5 rounded-2xl border border-slate-200 font-bold text-slate-500 hover:bg-slate-50 text-sm\"\n                           >\n                               取消\n                           </button>\n                           <button \n                               onClick={handleConfirmRole}\n                               disabled={!selectedRoleName}\n                               className={`\n                                   flex-1 py-3.5 rounded-2xl font-bold text-white text-sm shadow-lg transition-all flex items-center justify-center gap-2\n                                   ${selectedRoleName \n                                       ? 'bg-purple-600 shadow-purple-200 hover:bg-purple-700 active:scale-95' \n                                       : 'bg-slate-300 shadow-none cursor-not-allowed'\n                                   }\n                               `}\n                           >\n                               查看角色卡\n                           </button>\n                       </div>\n                  </div>\n              </div>\n          </div>\n  )}\n\n      {showAlreadyConnectedModal && (\n        <div className=\"fixed inset-0 z-[110] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-in fade-in duration-200\">\n            <div className=\"bg-white rounded-3xl p-6 w-[80%] max-w-xs shadow-2xl scale-100 animate-in zoom-in-95 duration-200 flex flex-col items-center text-center\">\n                <div className=\"w-12 h-12 bg-purple-100 text-purple-500 rounded-full flex items-center justify-center mb-4\">\n                    <Info size={24} />\n                </div>\n                <h3 className=\"text-lg font-bold text-slate-800 mb-2 font-kosugi\">你已经与该角色建联了</h3>\n                <p className=\"text-xs text-slate-400 mb-6 font-kosugi\">请在聊天列表查看与该角色的聊天记录</p>\n                <button \n                    onClick={() => setShowAlreadyConnectedModal(false)}\n                    className=\"w-full py-3 rounded-2xl bg-purple-600 text-white font-bold shadow-lg shadow-purple-200 hover:bg-purple-700 transition-colors text-sm font-kosugi\"\n                >\n                    我知道了\n                </button>\n            </div>\n        </div>\n      )}\n    </div>\n  );\n};\n    \n"],"names":["__iconNode","ArrowRight","createLucideIcon","StoryReader","story","onBack","onStartRoleplay","connectedRoleNames","validRoleNames","contentRef","useRef","trackRef","thumbHeight","setThumbHeight","useState","thumbTop","setThumbTop","isDragging","setIsDragging","showRoleModal","setShowRoleModal","selectedRoleName","setSelectedRoleName","showAlreadyConnectedModal","setShowAlreadyConnectedModal","dragStartY","dragStartThumbTop","updateScrollbar","useCallback","scrollTop","scrollHeight","clientHeight","trackHeight","visibleRatio","calculatedThumbHeight","maxScrollTop","maxThumbTop","currentScrollRatio","useEffect","observer","timer","handleDragStart","e","clientY","handleDragMove","deltaY","newThumbTop","ratio","handleDragEnd","handleConfirmRole","role","r","paragraphs","p","displayRoles","jsxs","jsx","ArrowLeft","index","tag","isSelected","isConnected","Check","Info"],"mappings":"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","x_google_ignoreList":[0]}