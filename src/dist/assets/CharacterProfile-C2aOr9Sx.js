import{r as n,j as e}from"./index-DiMvcmcb.js";import{u as h,m as j,b as g}from"./App-Bl6Z-21V.js";import{A as v}from"./arrow-left-D36-7upH.js";import{C as N}from"./chevron-up-DfIGDTSU.js";import{C as w}from"./chevron-down-C8dX3bVB.js";import{H as y}from"./heart-CEY8X9zg.js";import"./plus-Bz3dnY0B.js";import"./createLucideIcon-CiU7U1is.js";import"./user-DjmimaIa.js";const M=({character:s,onBack:o,onStartChat:a,isFromChat:l=!1,isExistingChat:r=!1})=>{var i;const[t,x]=n.useState(!1),{showToast:k,showCenter:d}=h(),[m,p]=n.useState(!1),c=t?s.tags:s.tags.slice(0,4),u=s.tags.length>4;return e.jsx(j.div,{className:"fixed inset-0 z-50 bg-primary-50",initial:{x:(navigator==null?void 0:navigator.maxTouchPoints)>0&&l?"100%":0},animate:{x:0},exit:{x:(navigator==null?void 0:navigator.maxTouchPoints)>0&&l?"100%":0},transition:{duration:(navigator==null?void 0:navigator.maxTouchPoints)>0&&l?.3:0,ease:"linear"},children:e.jsxs("div",{className:"mx-auto w-full max-w-md h-full flex flex-col bg-white shadow-2xl rounded-none md:rounded-3xl md:overflow-hidden relative",children:[e.jsx("button",{onClick:o,className:"absolute top-4 left-4 z-50 w-10 h-10 bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/30 transition-all",children:e.jsx(v,{size:24})}),e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar relative pb-24",children:[e.jsxs("div",{className:"relative w-full h-[55vh]",children:[!m&&(s.profileImage||s.avatar)?e.jsx("img",{src:s.profileImage||s.avatar,alt:s.name,className:"w-full h-full object-cover",onError:()=>p(!0)}):e.jsx("div",{className:"w-full h-full bg-slate-200 flex items-center justify-center",children:e.jsx("span",{className:"text-6xl font-bold text-slate-500",children:((i=s.name)==null?void 0:i[0])||"?"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-slate-900/10"}),e.jsxs("div",{className:"absolute bottom-12 left-6 right-6 z-10 text-white flex flex-col items-start space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-5xl font-bold tracking-wide",children:s.name}),e.jsxs("span",{className:"bg-white/20 backdrop-blur-md px-2 py-0.5 rounded-full text-[10px] border border-white/30 text-white flex items-center gap-1",children:[e.jsx("span",{className:"text-green-400",children:"●"})," ",s.roleType||"原创"]})]}),e.jsxs("div",{className:"flex items-center text-white text-sm font-medium pl-1",children:[e.jsx("span",{children:s.profession}),e.jsx("span",{className:"mx-2 bg-white w-1 h-1 rounded-full"}),e.jsx("span",{children:s.age})]}),e.jsxs("div",{className:"text-white text-xs font-medium pl-1",children:["by ",s.creator]})]})]}),e.jsxs("div",{className:"relative -mt-6 bg-white rounded-t-none md:rounded-t-[32px] px-6 py-8 min-h-[50vh] z-10",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map((b,f)=>e.jsxs("span",{className:"px-4 py-1.5 rounded-full bg-purple-50 text-purple-600 text-sm font-bold shadow-sm",children:["# ",b]},f))}),u&&e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("button",{onClick:()=>x(!t),className:"text-xs text-purple-300 flex items-center gap-1 font-bold hover:text-purple-400 transition-colors",children:[t?"收起":"展示更多"," ",t?e.jsx(N,{size:14}):e.jsx(w,{size:14})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-purple-500 font-bold text-sm mb-3",children:"一句话人设"}),e.jsxs("div",{className:"relative pl-4 py-1",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-purple-400 rounded-full"}),e.jsxs("div",{className:"bg-purple-50/50 p-4 rounded-r-xl text-slate-700 font-bold text-lg",children:["“",s.oneLinePersona,"”"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-purple-500 font-bold text-sm mb-3",children:"性格"}),e.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 text-slate-600 leading-7 text-justify text-sm",children:s.personality})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-purple-500 font-bold text-sm mb-3",children:"当前关系"}),e.jsx("div",{children:e.jsxs("span",{className:"inline-flex items-center gap-1 bg-pink-100 text-pink-500 px-3 py-1 rounded-full text-sm font-bold",children:[e.jsx(y,{size:12,fill:"currentColor"})," ",s.currentRelationship]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-purple-900 font-extrabold text-lg mb-4",children:"第一情节"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"bg-pink-400 text-white text-[10px] px-1.5 py-0.5 rounded font-bold",children:"THEME"}),e.jsx("span",{className:"bg-pink-50 text-pink-800 text-sm font-bold px-2 py-0.5 rounded",children:s.plotTheme})]}),e.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 text-slate-600 leading-7 text-justify text-sm mb-4",children:s.plotDescription}),s.openingLine&&e.jsxs("div",{className:"bg-purple-50/50 rounded-2xl p-4 flex items-center",children:[e.jsx("span",{className:"text-purple-600 font-bold text-sm whitespace-nowrap mr-3",children:"角色开场白"}),e.jsx("div",{className:"h-4 w-[1px] bg-purple-200 mr-4"}),e.jsx("span",{className:"text-slate-700 font-bold text-sm",children:s.openingLine})]})]})]})]}),e.jsx("div",{className:"absolute bottom-3 inset-x-0 z-50",children:e.jsx("div",{className:"mx-auto w-full max-w-md bg-white/90 backdrop-blur-md border-t border-slate-100 p-4 pb-[env(safe-area-inset-bottom)]",children:e.jsx("button",{onClick:()=>{if(l){a();return}if(r){d("当前角色已经在会话列表");return}a()},className:"w-full font-bold text-lg py-4 rounded-2xl shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2 bg-purple-200 text-purple-900 shadow-purple-100",children:l?e.jsxs(e.Fragment,{children:[e.jsx(g,{size:20}),"回到聊天"]}):"唤醒角色"})})})]})})};export{M as CharacterProfile};
//# sourceMappingURL=CharacterProfile-C2aOr9Sx.js.map
